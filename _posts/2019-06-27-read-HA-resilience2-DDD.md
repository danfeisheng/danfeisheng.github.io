---
layout: post
title: "读《高可用可伸缩微服务架构》感"
date: "2019-06-27 22:39"
author: "Danfei"
---
2019-06-27 22:39

读《高可用可伸缩微服务架构》感

第二章 微服务领域驱动设计

领域驱动设计（Domain Driven Design，DDD）

微服务的技术维度：诸如服务设计原则的遵守，通信机制的选择，数据一致性的保障，健康状态的监控与跟踪，乃至于服务的配置，测试与运维。

微服务的业务维度：普遍达成的共识是从业务角度驱动服务的识别与分解（服务的拆分粒度），拆的过细，因为微服务的边界为完全独立的跨进程通信边界，
会增加各微服务间的通信成本和运维成本，拆的过粗，又达不到单独伸缩和运维的目的。如何拆分，就要使用到领域驱动设计。

界限上下文的含义就是用一个清晰可见的边界（Bounded）将上下文勾勒出来，如此就能在自己的边界内维持领域模型的一致性和完整性，用细胞来形容界限上下文，
细胞膜限定了什么在细胞内，什么在细胞外，并且确定了什么物质可以通过细胞膜，这里细胞代表上下文，而细胞膜代表了包裹上下文的边界。

分析上下文的本质，就是对边界的控制，观察角度的不同，限定上下文划定的边界也有所不同，大体可分为如下三个方面：

	+ 领域逻辑层面：限定上下文确定了领域模型的业务边界，维护了模型的完整性与一致性，从而降低系统的业务复杂度
	+ 团队合作层面：限定上下文确定了开发团队的工作边界，建立了团队之间的合作模式，避免团队之间的沟通变得混乱，从而降低系统的管理复杂度
	+ 技术实现层面：限定上下文确定了系统架构的应用边界，保证了系统层和上下文领域层各自的一致性，建立上下文之间的集成方式，从而降低系统的技术复杂度
	
** 这三种边界体现了界限上下文对不同边界的控制力，业务边界是对领域模型的控制，工作边界是对开发协作的控制，应用边界是对技术风险的控制 **

界限上下文是“分而治之”架构原则的体现，引入它的目的其实是为了控制软件的复杂度，在识别界限上下文时，将它看做一个由业务驱动的抽象单元，并通过它帮我们
设计出高内聚，低耦合的设计。一旦确定了界限上下文，我们再来思考它的边界及他们之间的协作关系。
